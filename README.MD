### Капельмейстер


###### Установка

pip install Tensorflow==2.15.1
pip install tensorflow_recommenders==0.7.3
pip install fastapi
pip install pydantic
pip install starlette
pip install pyarrow


###### Файлы и дирректории


update_logs_to_time.py - скрипт подготовки датасета к обучению модели "time to video"
update_logs_to_video_to_video.py - скрипт подготовки датасета к обучению модели "video to video"
train_model_top_on_time.py - скрипт обучения модели "time to video"
train_model_video_on_video.py - скрипт обучения модели "video to video"
/models - директория хранения обученных моделей
/dataset - директория подготовленных датасетов
/api - директория RestAPI


###### Запуск Api


uvicorn main:app --host 0.0.0.0 --port 0000

укажите свой ip и порт, можете не указывать тогда api развернется на стандартном порту

При первом запуске скачайется модели в директорию models


###### Подготовка датасета


Для каждой модели нужно подготовить датасет
Для этого воспользуйтесь подготвлеными скриптами, нужно указать пуд до файла логирования,
и указать куда сохранить подготовленный файл

для модели "time to video", датасет из 2 колонок
'event_timestamp' тип str время приобразовывается в ближайший час, 'video_id'
для улучшения работы модели, нужно добавить дни недели и точный регион, так как регионы разные,
а во времени не учитывается часовой пояс

для модели "video to video"таблица со связями между видео, порядок просмотра видео пользователем
для улучшения, рекомендуется учесть разничу во времени между просмотрами


###### ссылка на обученные веса и модели:



